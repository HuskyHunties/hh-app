(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{13:function(e,t,a){},16:function(e,t,a){},25:function(e,t,a){},26:function(e,t){e.exports="data:image/png;base64,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"},27:function(e,t,a){e.exports=a(57)},32:function(e,t,a){},34:function(e){e.exports=JSON.parse('{"maps-api-key":"AIzaSyCvnhd-UvzVjkpnDC3R47NcWoaBO4XFI5I"}')},35:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t),a.d(t,"PageTypes",(function(){return Y}));var n=a(1),r=a(2),s=a(5),o=a(4),l=a(3),c=a(0),u=a.n(c),i=a(10),p=a.n(i);a(32),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d,h=a(9),f=a.n(h),m=a(14),v=a(11),E=new function e(){Object(n.a)(this,e),this.mapsKey=void 0;try{var t=a(34);this.mapsKey=t["maps-api-key"]}catch(r){throw new Error("No secrets.json detected. Please place secrets.json in the project root following the template.")}},g=a(6);a(16),a(35);!function(e){e.Confirm="confirm",e.Input="input",e.Notif="notif",e.DropDown="dropdown"}(d||(d={}));var b=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;Object(n.a)(this,a),r=t.call(this,e);var o=void 0,l=new Promise((function(e,t){o={resolve:e,reject:t}}));return r.state={showPopup:!1,inputValue:"",clickTypePromise:l,clickTypeDefer:o,left:"30%",top:"40%"},r.handleClick=r.handleClick.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"resetDeferred",value:function(){var e=void 0,t=new Promise((function(t,a){e={resolve:t,reject:a}}));this.setState({clickTypePromise:t,clickTypeDefer:e})}},{key:"popupFactory",value:function(){var e=Object(v.a)(f.a.mark((function e(t,a,n){var r,s=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showPopup:!0,popupType:t,popupMessage:a,options:n}),e.next=3,this.state.clickTypePromise;case 3:return r=e.sent,this.setState({showPopup:!1}),this.resetDeferred(),e.abrupt("return",new Promise((function(e,t){r?s.state.popupType===d.Input||s.state.popupType===d.DropDown?(""===s.state.inputValue&&t(),e(s.state.inputValue),s.setState({inputValue:""})):e():(s.state.popupType===d.Input&&s.setState({inputValue:""}),t())})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){this.state.clickTypeDefer.resolve(e)}},{key:"confirm",value:function(){var e=this;return u.a.createElement("div",{className:"popup-button"},u.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Okay"),u.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"input",value:function(){var e=this;return u.a.createElement("div",{className:"popup-button"},u.a.createElement("input",{type:"text",id:"input",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}}),u.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Okay"),u.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"notif",value:function(){var e=this;return u.a.createElement("div",{className:"popup-button"},u.a.createElement("button",{className:"notif",onClick:function(){return e.handleClick(!0)}},"Okay"))}},{key:"dropdown",value:function(){var e=this,t=[];return t.push(u.a.createElement("option",{value:"",key:""},"--")),this.state.options.forEach((function(e,a){t.push(u.a.createElement("option",{value:String(a),key:a},e))})),u.a.createElement("div",{className:"popup-button"},u.a.createElement("select",{id:"input",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}},t),u.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Select"),u.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"render",value:function(){var e;switch(this.state.popupType){case d.Confirm:e=this.confirm();break;case d.Input:e=this.input();break;case d.Notif:e=this.notif();break;case d.DropDown:e=this.dropdown();break;default:e=u.a.createElement("div",{className:"popup-button"})}return u.a.createElement("div",null,u.a.createElement("div",{className:this.state.showPopup?"popup-bg":"hidden"}),u.a.createElement("div",{className:this.state.showPopup?"popup":"hidden"},u.a.createElement("div",{className:"popup-text"},this.state.popupMessage),e))}}]),a}(u.a.Component),y=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).autocomplete=void 0,r.service=void 0,r.state={textInput:""},r}return Object(r.a)(a,[{key:"onPlaceChanged",value:function(e){var t=this;if(this.props.select(void 0),this.setState({textInput:""}),1===Object.entries(e).length){var a,n={query:e.name,bounds:null===(a=this.props.map)||void 0===a?void 0:a.getBounds()};this.service||(this.service=new google.maps.places.PlacesService(this.props.map)),this.service.textSearch(n,(function(e,a){if(a===google.maps.places.PlacesServiceStatus.OK)t.props.setPlaces(e);else{if(a!==google.maps.places.PlacesServiceStatus.ZERO_RESULTS)throw console.log(a),new Error("Places Search Request Failed");var n;t.props.setPlaces([]),null===(n=t.props.popupRef.current)||void 0===n||n.popupFactory(d.Notif,"No Results Found")}}))}else this.props.setPlaces([e]),this.props.select(e.place_id)}},{key:"componentDidUpdate",value:function(e){var t=this;"string"===typeof this.props.selected&&this.props.selected!==e.selected&&(this.service||(this.service=new google.maps.places.PlacesService(this.props.map)),this.service.getDetails({fields:a.placeRequestFields,placeId:this.props.selected},(function(e,a){if(a!==google.maps.places.PlacesServiceStatus.OK)throw console.log(a),new Error("Place Detail Request Failed.");t.setState({placeDetails:e})})))}},{key:"render",value:function(){var e,t=this,a=u.a.createElement("div",null);if(this.props.selected&&"string"===typeof this.props.selected&&this.state.placeDetails){var n,r,s=this.state.placeDetails;a=u.a.createElement("div",{className:"search-results"},u.a.createElement("u",{onClick:function(){return t.props.select()}},"Back to Search Results"),u.a.createElement("h4",null,s.name),u.a.createElement("img",{src:s.icon,className:"icon",alt:"icon"}),s.vicinity," ",u.a.createElement("br",null),"Types: ",null===(n=s.types)||void 0===n?void 0:n.join(", "),u.a.createElement("br",null),s.website?u.a.createElement("a",{href:s.website},"Website"):"",null===(r=s.photos)||void 0===r?void 0:r.map((function(e,t){return u.a.createElement("img",{key:t,className:"search-img",src:e.getUrl({}),alt:""})})))}else{var o=this.props.places.map((function(e){var a;return u.a.createElement("div",{className:t.props.selected===e.place_id?"search-entry selected":"search-entry",key:e.place_id,onClick:function(){return t.props.select(e.place_id)}},u.a.createElement("h6",null,e.name),u.a.createElement("img",{src:e.icon,className:"icon",alt:"icon"}),e.formatted_address," ",u.a.createElement("br",null),"Types: ",null===(a=e.types)||void 0===a?void 0:a.join(", "))}));a=u.a.createElement("div",{className:"search-results"},o)}return u.a.createElement("div",{className:"search-panel"},u.a.createElement(g.a,{onLoad:function(e){return t.autocomplete=e},onPlaceChanged:function(){return t.onPlaceChanged(t.autocomplete.getPlace())},bounds:null===(e=this.props.map)||void 0===e?void 0:e.getBounds()},u.a.createElement("input",{type:"text",placeholder:"Search",value:this.state.textInput,autoFocus:!0,onChange:function(e){return t.setState({textInput:e.target.value})},style:{boxSizing:"border-box",border:"1px solid transparent",width:"100%",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"absolute",left:"0%",marginLeft:"0px"}})),a)}}]),a}(u.a.Component);y.placeRequestFields=["name","icon","vicinity","types","photos","website","geometry"];var A=a(12),C=a.n(A);C.a.defaults.headers.post["Access-Control-Allow-Origin"]="*";var k=C.a.create({baseURL:"http://34.86.145.222:3000",responseType:"json"}),I=a(26),P=a.n(I),w=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;if(Object(n.a)(this,a),(r=t.call(this,e)).clue=void 0,e.place&&!e.clue)r.state={name:e.place.name,num:"",desc:"",list:""},r.clue=!1;else{if(!e.clue||e.place)throw new Error("Must supply info box with either a clue or a place, but not both.");r.state={name:e.clue.name,list:e.clue.list,num:String(e.clue.num),desc:e.clue.desc},r.clue=!0}return r}return Object(r.a)(a,[{key:"addModifyClue",value:function(){var e,t,a=this;if(""!==this.state.name)if(this.state.num&&!isNaN(Number(this.state.num))){if(this.clue&&!this.props.clue.place)throw console.log(this.props.place),new Error("Something has gone horribly wrong");if(!this.clue&&!(null===(e=this.props.place.geometry)||void 0===e?void 0:e.location))throw console.log(this.props.place),new Error("Something has gone horribly wrong");if(this.state.list&&""!==this.state.list){var n,r,s={name:this.state.name,listID:this.state.list.toUpperCase(),clueNumber:Number(this.state.num),description:this.state.desc,lat:this.clue?this.props.clue.place.lat:this.props.place.geometry.location.lat(),long:this.clue?this.props.clue.place.lng:this.props.place.geometry.location.lng()};if(this.props.clueLists.has(s.listID))if(this.clue)k.put("/clues/update/"+(null===(n=this.props.clue)||void 0===n?void 0:n.id),s).then((function(){a.props.updateClues(),a.props.select(void 0)}),(function(e){return a.handleAddError(e.response.status)}));else k.post("/clues",s).then((function(){a.props.updateClues(),a.props.select(void 0),a.props.setPlaces([])}),(function(e){return a.handleAddError(e.response.status)}));else null===(r=this.props.popupRef.current)||void 0===r||r.popupFactory(d.Confirm,"List "+s.listID+" does not exist.  Should list be created?").then((function(){var e;a.clue?k.put("/clues/update/"+(null===(e=a.props.clue)||void 0===e?void 0:e.id),s).then((function(){a.props.updateClues(),a.props.select(void 0)}),(function(e){return a.handleAddError(e.response.status)})):k.post("/clues",s).then((function(){a.props.updateClues(),a.props.select(void 0),a.props.setPlaces([])}),(function(e){return a.handleAddError(e.response.status)}))}))}else{var o;null===(o=this.props.popupRef.current)||void 0===o||o.popupFactory(d.Notif,"Invalid Clue List")}}else{var l;null===(l=this.props.popupRef.current)||void 0===l||l.popupFactory(d.Notif,"Invalid Clue Number")}else null===(t=this.props.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"Invalid Clue Name")}},{key:"handleAddError",value:function(e){if(401===e){var t;null===(t=this.props.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"There is another clue at this location.")}else{if(402!==e)throw console.log("Error: ".concat(e," from unknown error")),new Error("unknown error code");var a;null===(a=this.props.popupRef.current)||void 0===a||a.popupFactory(d.Notif,"There is already a solution for this clue")}}},{key:"handleKeypress",value:function(e){"Enter"===e.key&&this.addModifyClue()}},{key:"render",value:function(){var e=this,t=Array.from(this.props.clueLists).sort(),a=u.a.createElement("datalist",{id:"clue-lists"},t.map((function(e){return u.a.createElement("option",{value:e,key:e})})));return u.a.createElement("div",{style:{background:"#232323"}},"Name: ",u.a.createElement("input",{type:"text",value:this.state.name,placeholder:"Clue Name",autoFocus:!0,onChange:function(t){return e.setState({name:t.target.value})},onKeyPress:function(t){return e.handleKeypress(t)}})," ",u.a.createElement("br",null),"Description: ",u.a.createElement("input",{type:"text",value:this.state.desc,placeholder:"Clue Description",onChange:function(t){return e.setState({desc:t.target.value})},onKeyPress:function(t){return e.handleKeypress(t)}})," ",u.a.createElement("br",null),"Clue List: ",u.a.createElement("input",{list:"clue-lists",value:this.state.list,style:{width:"30px"},onChange:function(t){return e.setState({list:t.target.value})},onKeyPress:function(t){return e.handleKeypress(t)}}),a,"Clue Number: ",u.a.createElement("input",{type:"text",value:this.state.num,style:{width:"30px"},onChange:function(t){return e.setState({num:t.target.value})},onKeyPress:function(t){return e.handleKeypress(t)}})," ",u.a.createElement("br",null),this.clue?u.a.createElement("div",null,u.a.createElement("button",{onClick:function(){return e.addModifyClue()}},"Modify Clue"),u.a.createElement("button",{onClick:function(){return e.props.deleteClue()}},"Delete Clue")):u.a.createElement("button",{onClick:function(){return e.addModifyClue()}},"Add Clue"))}}]),a}(u.a.Component),N=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).map=void 0,r.service=void 0,r.state={center:{lat:42.3406995,lng:-71.0897018},fullscreen:!1,sidePanel:!1,searchedPlaces:[]},r.setSearchedPlaces=r.setSearchedPlaces.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"setSearchedPlaces",value:function(e){this.setState({searchedPlaces:e})}},{key:"handlePOIClick",value:function(e){var t=this;e.placeId&&(this.service||(this.service=new google.maps.places.PlacesService(this.map)),e.stop(),this.service.getDetails({placeId:e.placeId,fields:a.placeRequestFields},(function(a,n){if(n!==google.maps.places.PlacesServiceStatus.OK)throw console.log(n),new Error("Place Detail Request Failed.");a.place_id=e.placeId,t.setSearchedPlaces([a]),t.setState({sidePanel:!0}),t.props.select(e.placeId)})))}},{key:"render",value:function(){var e,t=this;e=this.state.sidePanel?u.a.createElement("div",null,u.a.createElement(y,{map:this.map,setPlaces:this.setSearchedPlaces,places:this.state.searchedPlaces,select:this.props.select,selected:this.props.selected,popupRef:this.props.popupRef}),u.a.createElement("div",{className:"side-handle",style:{left:"20%"},onClick:function(){return t.setState({sidePanel:!1})}},"<")):u.a.createElement("div",{className:"side-handle",onClick:function(){return t.setState({sidePanel:!0})}},">");var n=this.props.clues.map((function(e){return u.a.createElement(g.e,{key:e.id,position:e.place,onClick:function(){return t.props.select(e.id)},label:e.list+e.num,zIndex:0},e.id===t.props.selected?u.a.createElement(g.c,{onCloseClick:function(){return t.props.select(void 0)}},u.a.createElement(w,{clue:e,clueLists:t.props.clueLists,popupRef:t.props.popupRef,updateClues:t.props.updateClues,select:t.props.select,setPlaces:t.setSearchedPlaces,deleteClue:t.props.deleteClue})):"")})),r=this.state.searchedPlaces.map((function(e){var a;return u.a.createElement(g.e,{key:e.place_id,position:null===(a=e.geometry)||void 0===a?void 0:a.location,onClick:function(){return t.props.select(e.place_id)},zIndex:1,icon:P.a},e.place_id===t.props.selected?u.a.createElement(g.c,{onCloseClick:function(){return t.props.select(void 0)}},u.a.createElement(w,{place:e,clueLists:t.props.clueLists,popupRef:t.props.popupRef,updateClues:t.props.updateClues,select:t.props.select,setPlaces:t.setSearchedPlaces,deleteClue:t.props.deleteClue})):"")}));return this.state.sidePanel||(r=[]),u.a.createElement("div",{className:this.state.fullscreen?"wrapper-fullscreen":"wrapper-default"},u.a.createElement(g.d,{googleMapsApiKey:E.mapsKey,libraries:a.libraries},u.a.createElement(g.b,{mapContainerStyle:{width:"100%",height:"100%"},center:this.state.center,zoom:13,options:{streetViewControl:!1,fullscreenControl:!1},onLoad:function(e){t.map=e},onClick:function(e){return t.handlePOIClick(e)}},u.a.createElement("div",{className:"fullscreen-control",onClick:function(){return t.setState({fullscreen:!t.state.fullscreen,sidePanel:!t.state.fullscreen})}},this.state.fullscreen?"Exit Fullscreen":"Enter Fullscreen"),n,r,e)))}}]),a}(u.a.Component);N.libraries=["places","geometry"],N.placeRequestFields=["name","formatted_address","icon","types","geometry"];a(53);function O(e,t){return e.list===t.list?e.num-t.num:e.list.localeCompare(t.list)}var S=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.clues.sort(O).map((function(t){return u.a.createElement("tr",{key:t.id,onClick:function(){return e.props.select(t.id)}},u.a.createElement("td",{className:t.id===e.props.selected?"selected":""},t.list+t.num+": "+t.name))}));return u.a.createElement("table",{className:"clue-table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"List of Clues"))),u.a.createElement("tbody",null,t))}}]),a}(u.a.Component),j=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).popupRef=void 0,r.state={selected:void 0},r.popupRef=u.a.createRef(),r}return Object(r.a)(a,[{key:"deleteClue",value:function(){var e,t,a=this;this.state.selected&&"number"===typeof this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(d.Confirm,"Delete Selected Clue?").then((function(){k.delete("/clues/"+a.state.selected,{}).then(a.props.updateClues,(function(e){return a.handleDeleteError(e.response.status)})),console.log("deleted clue: "+a.state.selected)}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"No Clue Selected")}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.props.updateClues()}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"clue-frame"},u.a.createElement("div",{className:"clue-list"},u.a.createElement(S,{selected:this.state.selected,select:function(t){return e.setState({selected:t})},clues:this.props.clues})),u.a.createElement("button",{onClick:function(){return e.deleteClue()},className:"clue-delete"},"Delete Clue"),u.a.createElement("div",{className:"clue-map"},u.a.createElement(N,{updateClues:this.props.updateClues,clues:this.props.clues,selected:this.state.selected,clueLists:this.props.clueLists,select:function(t){return e.setState({selected:t})},popupRef:this.popupRef,deleteClue:function(){return e.deleteClue()}})),u.a.createElement(b,{ref:this.popupRef}))}}]),a}(u.a.Component);a(54),a(25);var R=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"nav-bar"},u.a.createElement("a",{href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},"Navigation Bar"),u.a.createElement("div",{className:"theme-switch-wrapper"},u.a.createElement("label",{className:"theme-switch",htmlFor:"checkbox"},u.a.createElement("input",{type:"checkbox",id:"checkbox",onClick:function(e){e.target.checked?document.documentElement.setAttribute("data-theme","light"):document.documentElement.setAttribute("data-theme","dark")}}),u.a.createElement("div",{className:"slider round"})),u.a.createElement("em",null,"Enable Light Mode!")))}}]),a}(u.a.Component),D=(a(55),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=[];return this.props.paths.forEach((function(a,n){t.push(u.a.createElement("tr",{key:n,onClick:function(){return e.props.clickHandler(n)}},u.a.createElement("td",{className:n===e.props.selected?"selected":""},a)))})),u.a.createElement("div",{className:"table-div"},u.a.createElement("table",{className:"path-table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"List of Paths"))),u.a.createElement("tbody",null,t)))}}]),a}(u.a.Component)),x=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).popupRef=void 0,r.state={selected:void 0},r.popupRef=u.a.createRef(),r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(){this.state.selected&&!this.props.paths.has(this.state.selected)&&this.setState({selected:void 0})}},{key:"addPath",value:function(){var e,t=this;null===(e=this.popupRef.current)||void 0===e||e.popupFactory(d.Input,"Input name for new Path").then((function(e){k.post("/paths",{name:e}).then(t.props.updateInfo,(function(e){return t.handleAddError(e.response.status)})),console.log("Tried to add path: "+e)}),(function(){}))}},{key:"handleAddError",value:function(e){var t,a=this;if(400!==e)throw console.log(e),new Error("Unknown error code");null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"Name already in use").then((function(){return a.addPath()}))}},{key:"deletePath",value:function(){var e,t,a=this;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(d.Confirm,"Delete Selected Path?").then((function(){k.delete("/paths/"+a.state.selected,{}).then(a.props.updateInfo,(function(e){return a.handleDeleteError(e.response.status)})),console.log("deleted path: "+a.state.selected)}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"No Path Selected")}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.props.updateInfo()}},{key:"modifyPath",value:function(){var e;this.state.selected?this.props.updatePage(Y.ROUTES,this.state.selected):null===(e=this.popupRef.current)||void 0===e||e.popupFactory(d.Notif,"No Path Selected")}},{key:"handleModifyError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");var t;null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"Implement me")}},{key:"orderPath",value:function(){var e,t;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(d.Notif,"Operation Not Implemented"):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"No Path Selected")}},{key:"handleOrderError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");var t;null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"Implement me")}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"path-frame"},u.a.createElement(D,{paths:this.props.paths,clickHandler:function(t){return e.setState({selected:t})},selected:this.state.selected}),u.a.createElement("button",{className:"path-button",onClick:function(){return e.addPath()}},"Add Path"),u.a.createElement("button",{className:"path-button",onClick:function(){return e.deletePath()}},"Delete Path"),u.a.createElement("button",{className:"path-button",onClick:function(){return e.modifyPath()}},"Modify Path"),u.a.createElement("button",{className:"path-button",onClick:function(){return e.orderPath()}},"Order Path"),u.a.createElement(b,{ref:this.popupRef}))}}]),a}(u.a.Component),L=(a(56),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=[];return this.props.groups.forEach((function(a,n){var r=a.pathID&&e.props.paths.has(a.pathID)?e.props.paths.get(a.pathID):"No assigned path";t.push(u.a.createElement("tr",{key:n,onClick:function(){return e.props.clickHandler(n)}},u.a.createElement("td",{className:n===e.props.selected?"selected":""},a.name+" -- "+r)))})),u.a.createElement("div",{className:"table-div"},u.a.createElement("table",{className:"group-table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"List of Groups"))),u.a.createElement("tbody",null,t)))}}]),a}(u.a.Component)),M=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).popupRef=void 0,r.state={selected:void 0},r.popupRef=u.a.createRef(),r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(){this.state.selected&&!this.props.groups.has(this.state.selected)&&this.setState({selected:void 0})}},{key:"addGroup",value:function(){var e,t=this;null===(e=this.popupRef.current)||void 0===e||e.popupFactory(d.Input,"Input name for new Group").then((function(e){k.post("/groups",{name:e}).then(t.props.updateInfo,(function(e){return t.handleAddError(e.response.status)})),console.log("Tried to add group: "+e)}),(function(){}))}},{key:"handleAddError",value:function(e){var t,a=this;if(401!==e)throw console.log(e),new Error("Unknown error code");null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"Name already in use").then((function(){return a.addGroup()}))}},{key:"deleteGroup",value:function(){var e,t,a=this;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(d.Confirm,"Delete Selected Group?").then((function(){k.delete("/groups/"+a.state.selected).then(a.props.updateInfo,(function(e){return a.handleDeleteError(e.response.status)}))}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"No Group Selected")}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.props.updateInfo()}},{key:"assignPath",value:function(){var e,t,a,n=this;this.state.selected?null===(t=this.popupRef.current)||void 0===t||t.popupFactory(d.DropDown,"Choose a path to assign to the selected group:",this.props.paths).then((function(t){e=Number(t),k.put("/groups/"+n.state.selected,{pathID:e}).then(n.props.updateInfo,(function(t){return n.handleAssignError(t.response.status,e)})),console.log("Group: "+n.state.selected+" assigned path: "+t)}),(function(){})):null===(a=this.popupRef.current)||void 0===a||a.popupFactory(d.Notif,"No Group Selected")}},{key:"handleAssignError",value:function(e,t){var a,n=this;if(401!==e)throw console.log(e),new Error("Unknown error code");null===(a=this.popupRef.current)||void 0===a||a.popupFactory(d.Confirm,"Path already assigned to another group.  Assign anyway?").then((function(){k.put("/groups/"+n.state.selected,{pathID:t,override:!0}).then((function(){console.log("Group: "+n.state.selected+" assigned path: "+t+" via override")}),(function(e){return n.handleAddError(e.response.status)}))}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"group-frame"},u.a.createElement(L,{paths:this.props.paths,groups:this.props.groups,clickHandler:function(t){return e.setState({selected:t})},selected:this.state.selected}),u.a.createElement("button",{className:"add-group group-button",onClick:function(){return e.addGroup()}},"Add Group"),u.a.createElement("button",{className:"remove-group group-button",onClick:function(){return e.deleteGroup()}},"Remove Group"),u.a.createElement("button",{className:"assign-path group-button",onClick:function(){return e.assignPath()}},"Assign Path"),u.a.createElement(b,{ref:this.popupRef}))}}]),a}(u.a.Component),F=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).intervalID=void 0,r.state={groups:new Map,paths:new Map},r.updateInfo=r.updateInfo.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.updateInfo(),this.intervalID=setInterval(this.updateInfo,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"updateInfo",value:function(){var e=this;k.get("/groups",{}).then(function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Map,n=Object(m.a)(t.data.allGroups),e.prev=2,s=f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.value,e.next=3,k.get("/groups/"+t,{}).then((function(e){return a.set(t,{name:e.data.name,pathID:e.data.pathID})}));case 3:case"end":return e.stop()}}),e)})),n.s();case 5:if((r=n.n()).done){e.next=9;break}return e.delegateYield(s(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()).then((function(t){return e.setState({groups:t})})),k.get("/paths",{}).then(function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,s,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Map,r=Object(m.a)(a.data.allPaths),t.prev=2,o=f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.value,t.next=3,k.get("/paths/"+a,{}).then((function(t){t.data.name?n.set(a,t.data.name):n.set(a,e.state.paths.get(a))}));case 3:case"end":return t.stop()}}),t)})),r.s();case 5:if((s=r.n()).done){t.next=9;break}return t.delegateYield(o(),"t0",7);case 7:t.next=5;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),r.e(t.t1);case 14:return t.prev=14,r.f(),t.finish(14);case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return e.setState({paths:t})}))}},{key:"render",value:function(){return u.a.createElement("div",{className:"main-page"},u.a.createElement(R,null),u.a.createElement(j,{clues:this.props.clues,clueLists:this.props.clueLists,updateClues:this.props.updateClues}),u.a.createElement(x,{paths:this.state.paths,updateInfo:this.updateInfo,updatePage:this.props.updatePage}),u.a.createElement(M,{groups:this.state.groups,paths:this.state.paths,updateInfo:this.updateInfo}))}}]),a}(u.a.Component),G=(a(13),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r}return Object(r.a)(a,[{key:"handleExit",value:function(){var e=this,t=this.props.pathClues.map((function(e){return e.id}));k.put("paths/"+this.props.currentPath+"/order",{clueIDs:t}).then((function(){return e.props.updatePage(Y.MAINPAGE)}),(function(){var t;null===(t=e.props.popupRef.current)||void 0===t||t.popupFactory(d.Confirm,"Order may not be preserved. Exit anyway?").then((function(){return e.props.updatePage(Y.MAINPAGE)}))}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"path-info-container"},u.a.createElement(W,{pathName:this.props.pathName,pathClues:this.props.pathClues,selected:this.props.selected,select:this.props.select,updateInfo:this.props.updateInfo,currentPath:this.props.currentPath,popupRef:this.props.popupRef}),u.a.createElement("button",{className:"remove-clue",onClick:this.props.removeClue},"Remove Selected Clue"),u.a.createElement("button",{className:"exit",onClick:function(){return e.handleExit()}},"Done Modifying"))}}]),a}(u.a.Component)),W=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r}return Object(r.a)(a,[{key:"startDrag",value:function(e,t,a){var n=document.createElement("div");n.style.opacity="0",e.dataTransfer.setDragImage(n,0,0),e.dataTransfer.dropEffect="none",this.setState({dragIndex:a,overIndex:a})}},{key:"dragEnd",value:function(){var e=this,t=this.props.pathClues.map((function(e){return e.id})),a=t.splice(this.state.dragIndex,1);t.splice(this.state.overIndex<this.state.dragIndex?this.state.overIndex+1:this.state.overIndex,0,a[0]),k.put("paths/"+this.props.currentPath+"/order",{clueIDs:t}).then(this.props.updateInfo,(function(){var t;null===(t=e.props.popupRef.current)||void 0===t||t.popupFactory(d.Notif,"Reorder Failed, Please Try Again"),e.props.updateInfo()})).then((function(){return e.setState({dragIndex:void 0,overIndex:void 0})}))}},{key:"render",value:function(){var e=this,t=this.props.pathClues.map((function(t,a){return u.a.createElement("tr",{key:t.id,onClick:function(){return e.props.select(t.id)},draggable:!0,onDragStart:function(n){return e.startDrag(n,t,a)},onDragEnd:function(){return e.dragEnd()},onDragEnter:function(){a!==e.state.dragIndex&&e.setState({overIndex:a})}},u.a.createElement("td",{className:t.id===e.props.selected?"selected":""},t.list+t.num+": "+t.name))}));if(this.state.dragIndex||0===this.state.dragIndex){var a=t.splice(this.state.dragIndex,1);t.splice(this.state.overIndex<this.state.dragIndex?this.state.overIndex+1:this.state.overIndex,0,a[0])}return u.a.createElement("table",null,u.a.createElement("thead",{onDragEnter:function(){return e.setState({overIndex:-1})}},u.a.createElement("tr",null,u.a.createElement("th",null,"Path Clues"))),u.a.createElement("tbody",null,t))}}]),a}(u.a.Component),U=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).map=void 0,r.state={center:{lat:42.3406995,lng:-71.0897018},showPath:!0},r.handleMapLoad=r.handleMapLoad.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"addClueToPath",value:function(){var e=this;k.put("/paths/"+this.props.currentPath+"/clue",{clueID:this.props.selected}).then(this.props.updateInfo,(function(t){return e.handleAddError(t.response.status)}))}},{key:"handleAddError",value:function(e){var t,a=this;if(401!==e)throw console.log(e),new Error("Unknown Error Code.");null===(t=this.props.popupRef.current)||void 0===t||t.popupFactory(d.Confirm,"Clue already assigned to path.  Assign anyway?").then((function(){k.put("/paths/"+a.props.currentPath+"/clue/override",{clueID:a.props.selected}).then(a.props.updateInfo,(function(e){return a.handleAddError(e.response.status)}))}))}},{key:"handleMapLoad",value:function(e){var t=this;this.map=e;var a=u.a.createElement("div",{onClick:function(){return t.setState({showPath:!t.state.showPath})},className:"show-path-control"},"Toggle Path"),n=document.createElement("div");p.a.render(a,n),e.controls[google.maps.ControlPosition.TOP_RIGHT].push(n)}},{key:"render",value:function(){var e=this,t=this.props.pathClues.map((function(e){return e.id})),n=this.props.clues.filter((function(e){return!t.includes(e.id)})).map((function(t){return u.a.createElement(g.e,{key:t.id,label:t.list+t.num,position:t.place,onClick:function(){return e.props.select(t.id)}},t.id===e.props.selected?u.a.createElement(g.c,null,u.a.createElement("div",{style:{background:"#232323"}},t.list+t.num+": "+t.name," ",u.a.createElement("br",null),t.desc," ",u.a.createElement("br",null),u.a.createElement("button",{onClick:function(){return e.addClueToPath()}},"Add Clue"))):"")})),r=[],s=[];if(this.state.showPath){r=this.props.pathClues.map((function(t){return u.a.createElement(g.e,{key:t.id,label:t.list+t.num,position:t.place,onClick:function(){return e.props.select(t.id)}},t.id===e.props.selected?u.a.createElement(g.c,null,u.a.createElement("div",{style:{background:"#232323"}},t.list+t.num+": "+t.name," ",u.a.createElement("br",null),t.desc," ",u.a.createElement("br",null),u.a.createElement("button",{onClick:e.props.removeClue},"Remove Clue"))):"")}));for(var o={icons:[{icon:{path:2},offset:"100%"}],clickable:!1},l=this.props.pathClues.map((function(e){return e.place})),c=0;c<this.props.pathClues.length-1;c++)s.push(u.a.createElement(g.f,{key:"pl"+c,path:l.slice(c,c+2),options:o}))}return u.a.createElement("div",{className:"path-map-container"},u.a.createElement(g.d,{googleMapsApiKey:E.mapsKey,libraries:a.libraries},u.a.createElement(g.b,{mapContainerStyle:{width:"100%",height:"100%"},options:{streetViewControl:!1,fullscreenControl:!1},center:this.state.center,zoom:13,onLoad:this.handleMapLoad},n,r,s)))}}]),a}(u.a.Component);U.libraries=["places"];var Y,T=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).intervalID=void 0,r.popupRef=void 0,r.state={pathName:"",pathClues:[]},r.popupRef=u.a.createRef(),r.setSelection=r.setSelection.bind(Object(s.a)(r)),r.updateInfo=r.updateInfo.bind(Object(s.a)(r)),r.removeClue=r.removeClue.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.updateInfo(),this.intervalID=setInterval(this.updateInfo,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"setSelection",value:function(e){this.setState({selected:e})}},{key:"updateInfo",value:function(){var e=this;k.get("/paths/"+this.props.currentPath,{}).then((function(t){var a=t.data.clueIDs.map((function(t){return e.props.clues.get(t)}));e.setState({pathName:t.data.name,pathClues:a.flat()})}))}},{key:"removeClue",value:function(){var e,t=this;this.state.selected&&this.state.pathClues.map((function(e){return e.id})).includes(this.state.selected)?k.delete("/paths/"+this.props.currentPath+"/clue/"+this.state.selected).then((function(){t.updateInfo(),t.setSelection(void 0)}),(function(e){return t.handleRemoveError(e.response.status)})):null===(e=this.popupRef.current)||void 0===e||e.popupFactory(d.Notif,"No Clue Selected")}},{key:"handleRemoveError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown Error Code");this.updateInfo(),this.setSelection(void 0)}},{key:"render",value:function(){return u.a.createElement("div",{className:"path-page-container"},u.a.createElement(G,{pathName:this.state.pathName,pathClues:this.state.pathClues,updatePage:this.props.updatePage,select:this.setSelection,selected:this.state.selected,currentPath:this.props.currentPath,updateInfo:this.updateInfo,popupRef:this.popupRef,removeClue:this.removeClue}),u.a.createElement(U,{clues:Array.from(this.props.clues.values()),clueLists:this.props.clueLists,pathClues:this.state.pathClues,select:this.setSelection,selected:this.state.selected,currentPath:this.props.currentPath,updateInfo:this.updateInfo,popupRef:this.popupRef,removeClue:this.removeClue}),u.a.createElement(b,{ref:this.popupRef}))}}]),a}(u.a.Component);!function(e){e[e.MAINPAGE=0]="MAINPAGE",e[e.ROUTES=1]="ROUTES",e[e.IMAGES=2]="IMAGES"}(Y||(Y={}));var B=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).intervalID=void 0,r.state={currentPage:Y.MAINPAGE,clues:new Map,clueLists:new Set},r.updateClues=r.updateClues.bind(Object(s.a)(r)),r.updatePage=r.updatePage.bind(Object(s.a)(r)),r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.updateClues(),this.intervalID=setInterval(this.updateClues,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"updatePage",value:function(e,t){if(e===Y.ROUTES&&!t)throw new Error("Must supply route ID");this.setState({currentPage:e,currentPath:t})}},{key:"updateClues",value:function(){var e=this,t=new Map,a=[],n=new Set;k.get("/clues/").then((function(e){return a=e.data.clueIDs,e.data.clueIDs.map((function(e){return k.get("/clues/"+e,{})}))})).then((function(e){return C.a.all(e)})).then((function(e){e.forEach((function(e,r){var s=e.data;t.set(a[r],{list:s.listID.toUpperCase(),num:s.clueNumber,name:s.name,desc:s.description,finished:s.finished,place:{lng:s.long,lat:s.lat},id:a[r]}),n.add(s.listID.toUpperCase())}))})).then((function(){return e.setState({clues:t,clueLists:n})}))}},{key:"render",value:function(){var e;switch(this.state.currentPage){case Y.MAINPAGE:e=u.a.createElement(F,{clues:Array.from(this.state.clues.values()),clueLists:this.state.clueLists,updateClues:this.updateClues,updatePage:this.updatePage});break;case Y.ROUTES:e=u.a.createElement(T,{clues:this.state.clues,clueLists:this.state.clueLists,currentPath:this.state.currentPath,updatePage:this.updatePage});break;case Y.IMAGES:e=u.a.createElement("div",null,"Page not yet implemented");break;default:throw new Error("Invalid Page Type")}return e}}]),a}(u.a.Component);p.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.f01e9788.chunk.js.map