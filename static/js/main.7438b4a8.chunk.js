(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(e,t,n){},26:function(e,t,n){e.exports=n(56)},31:function(e,t,n){},33:function(e){e.exports=JSON.parse('{"maps-api-key":"AIzaSyBw-lcvqRrqs30H9Hu0K4F1IR3ZbV6b-N8"}')},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(2),o=n(4),c=n(3),s=n(0),u=n.n(s),l=n(9),i=n.n(l);n(31),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=n(7),h=n.n(p),d=n(14),f=n(11),m=n(8),v=n(12),b=new function e(){Object(a.a)(this,e),this.mapsKey=void 0;try{var t=n(33);this.mapsKey=t["maps-api-key"]}catch(r){throw new Error("No secrets.json detected. Please place secrets.json in the project root following the template.")}},k=n(10),y=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={center:{lat:42.3406995,lng:-71.0897018}},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=Array.from(this.props.clues,(function(t){var n=Object(v.a)(t,2),a=n[0],r=n[1];return u.a.createElement(k.e,{key:a,position:r.place,onClick:function(){return e.props.select(a)}},a===e.props.selected?u.a.createElement(k.c,null,u.a.createElement("div",null,u.a.createElement("h1",null,r.list+r.num+": "+r.name),r.desc)):"")}));return u.a.createElement(k.d,{googleMapsApiKey:b.mapsKey,libraries:n.libraries},u.a.createElement(k.b,{mapContainerStyle:{width:"100%",height:"100%"},center:this.state.center,zoom:13},t,u.a.createElement(k.a,null,u.a.createElement("input",{type:"text",placeholder:"Customized your placeholder",style:{boxSizing:"border-box",border:"1px solid transparent",width:"240px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"absolute",left:"50%",marginLeft:"-120px"}}))))}}]),n}(u.a.Component);y.libraries=["places"];var E;n(34),n(35);!function(e){e.Confirm="confirm",e.Input="input",e.Notif="notif",e.DropDown="dropdown"}(E||(E={}));var g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),r=t.call(this,e);var o=void 0,c=new Promise((function(e,t){o={resolve:e,reject:t}}));return r.state={showPopup:!1,inputValue:"",clickTypePromise:c,clickTypeDefer:o,left:"30%",top:"40%"},r.handleClick=r.handleClick.bind(Object(m.a)(r)),r}return Object(r.a)(n,[{key:"resetDeferred",value:function(){var e=void 0,t=new Promise((function(t,n){e={resolve:t,reject:n}}));this.setState({clickTypePromise:t,clickTypeDefer:e})}},{key:"popupFactory",value:function(){var e=Object(f.a)(h.a.mark((function e(t,n,a){var r,o=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showPopup:!0,popupType:t,popupMessage:n,options:a}),e.next=3,this.state.clickTypePromise;case 3:return r=e.sent,this.setState({showPopup:!1}),this.resetDeferred(),e.abrupt("return",new Promise((function(e,t){r?o.state.popupType===E.Input||o.state.popupType===E.DropDown?(e(o.state.inputValue),o.setState({inputValue:""})):e():(o.state.popupType===E.Input&&o.setState({inputValue:""}),t())})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){this.state.clickTypeDefer.resolve(e)}},{key:"confirm",value:function(){var e=this;return u.a.createElement("div",{className:"popup-button"},u.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Okay"),u.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"input",value:function(){var e=this;return u.a.createElement("div",{className:"popup-button"},u.a.createElement("input",{type:"text",id:"input",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}}),u.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Okay"),u.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"notif",value:function(){var e=this;return u.a.createElement("div",{className:"popup-button"},u.a.createElement("button",{className:"notif",onClick:function(){return e.handleClick(!0)}},"Okay"))}},{key:"dropdown",value:function(){var e=this,t=[];return this.state.options.forEach((function(e,n){t.push(u.a.createElement("option",{value:String(n),key:n},e))})),u.a.createElement("div",{className:"popup-button"},u.a.createElement("select",{id:"input",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}},t),u.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Select"),u.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"render",value:function(){var e;switch(this.state.popupType){case E.Confirm:e=this.confirm();break;case E.Input:e=this.input();break;case E.Notif:e=this.notif();break;case E.DropDown:e=this.dropdown();break;default:e=u.a.createElement("div",{className:"popup-button"})}return u.a.createElement("div",null,u.a.createElement("div",{className:this.state.showPopup?"popup-bg":"hidden"}),u.a.createElement("div",{className:this.state.showPopup?"popup":"hidden"},u.a.createElement("div",{className:"popup-text"},this.state.popupMessage),e))}}]),n}(u.a.Component),w=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=Array.from(this.props.clues,(function(t){var n=Object(v.a)(t,2),a=n[0],r=n[1];return u.a.createElement("tr",{key:a,onClick:function(){return e.props.select(a)}},u.a.createElement("td",{className:a===e.props.selected?"selected":""},r.list+r.num+": "+r.name))}));return u.a.createElement("table",{className:"clue-table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"List of Clues"))),u.a.createElement("tbody",null,t))}}]),n}(u.a.Component),N=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).popupRef=void 0;var o=new Map;return o.set(1,{name:"Amelia's",list:"A",num:69,finished:!1,desc:"",place:{lat:42.34117,lng:-71.0874334}}),o.set(2,{name:"Speare Hall",list:"B",num:420,finished:!1,desc:"In front of res-mail",place:{lat:42.3406995,lng:-71.0897018}}),o.set(3,{name:"Castle Island",list:"C",num:3,finished:!1,desc:"",place:{lat:42.3378643,lng:-71.0125351}}),r.state={selected:void 0,clues:o},r.popupRef=u.a.createRef(),r}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"clue-frame"},u.a.createElement("div",{className:"clue-list"},u.a.createElement(w,{selected:this.state.selected,select:function(t){return e.setState({selected:t})},clues:this.state.clues})),u.a.createElement("div",{className:"clue-map"},u.a.createElement(y,{clues:this.state.clues,selected:this.state.selected,select:function(t){return e.setState({selected:t})}})),u.a.createElement(g,{ref:this.popupRef}))}}]),n}(u.a.Component);n(17),n(36);var O=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return u.a.createElement("div",{className:"nav-bar"},u.a.createElement("a",{href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},"Navigation Bar"),u.a.createElement("div",{className:"theme-switch-wrapper"},u.a.createElement("label",{className:"theme-switch",htmlFor:"checkbox"},u.a.createElement("input",{type:"checkbox",id:"checkbox",onClick:function(e){e.target.checked?document.documentElement.setAttribute("data-theme","light"):document.documentElement.setAttribute("data-theme","dark")}}),u.a.createElement("div",{className:"slider round"})),u.a.createElement("em",null,"Enable Light Mode!")))}}]),n}(u.a.Component),j=(n(37),n(15)),C=n.n(j);C.a.defaults.headers.post["Access-Control-Allow-Origin"]="*";var I=C.a.create({baseURL:"http://localhost:3000/",responseType:"json"}),P=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=[];return this.props.paths.forEach((function(n,a){t.push(u.a.createElement("tr",{key:a,onClick:function(){return e.props.clickHandler(a)}},u.a.createElement("td",{className:a===e.props.selected?"selected":""},n)))})),u.a.createElement("div",{className:"table-div"},u.a.createElement("table",{className:"path-table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"List of Paths"))),u.a.createElement("tbody",null,t)))}}]),n}(u.a.Component),x=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).popupRef=void 0,r.state={selected:void 0},r.popupRef=u.a.createRef(),r}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(){this.state.selected&&!this.props.paths.has(this.state.selected)&&this.setState({selected:void 0})}},{key:"addPath",value:function(){var e,t=this;null===(e=this.popupRef.current)||void 0===e||e.popupFactory(E.Input,"Input name for new Path").then((function(e){I.post("paths",{name:e}).then(t.props.updateInfo,(function(e){return t.handleAddError(e.response.status)})),console.log("Tried to add path: "+e)}),(function(){}))}},{key:"handleAddError",value:function(e){var t,n=this;if(400!==e)throw console.log(e),new Error("Unknown error code");null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"Name already in use").then((function(){return n.addPath()}))}},{key:"deletePath",value:function(){var e,t,n=this;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(E.Confirm,"Delete Selected Path?").then((function(){I.delete("paths/"+n.state.selected,{}).then(n.props.updateInfo,(function(e){return n.handleDeleteError(e.response.status)})),console.log("deleted path: "+n.state.selected)}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"No Path Selected")}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.props.updateInfo()}},{key:"modifyPath",value:function(){var e,t;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(E.Notif,"Operation Not Implemented"):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"No Path Selected")}},{key:"handleModifyError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");var t;null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"Implement me")}},{key:"orderPath",value:function(){var e,t;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(E.Notif,"Operation Not Implemented"):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"No Path Selected")}},{key:"handleOrderError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");var t;null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"Implement me")}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"path-frame"},u.a.createElement(P,{paths:this.props.paths,clickHandler:function(t){return e.setState({selected:t})},selected:this.state.selected}),u.a.createElement("button",{className:"path-button",onClick:function(){return e.addPath()}},"Add Path"),u.a.createElement("button",{className:"path-button",onClick:function(){return e.deletePath()}},"Delete Path"),u.a.createElement("button",{className:"path-button",onClick:function(){return e.modifyPath()}},"Modify Path"),u.a.createElement("button",{className:"path-button",onClick:function(){return e.orderPath()}},"Order Path"),u.a.createElement(g,{ref:this.popupRef}))}}]),n}(u.a.Component),R=(n(55),function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=[];return this.props.groups.forEach((function(n,a){var r=n.pathID&&e.props.paths.has(n.pathID)?e.props.paths.get(n.pathID):"No assigned path";t.push(u.a.createElement("tr",{key:a,onClick:function(){return e.props.clickHandler(a)}},u.a.createElement("td",{className:a===e.props.selected?"selected":""},n.name+" -- "+r)))})),u.a.createElement("div",{className:"table-div"},u.a.createElement("table",{className:"group-table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"List of Groups"))),u.a.createElement("tbody",null,t)))}}]),n}(u.a.Component)),D=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).popupRef=void 0,r.state={selected:void 0},r.popupRef=u.a.createRef(),r}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(){this.state.selected&&!this.props.groups.has(this.state.selected)&&this.setState({selected:void 0})}},{key:"addGroup",value:function(){var e,t=this;null===(e=this.popupRef.current)||void 0===e||e.popupFactory(E.Input,"Input name for new Group").then((function(e){I.post("/groups",{name:e}).then(t.props.updateInfo,(function(e){return t.handleAddError(e.response.status)})),console.log("Tried to add group: "+e)}),(function(){}))}},{key:"handleAddError",value:function(e){var t,n=this;if(400!==e)throw console.log(e),new Error("Unknown error code");null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"Name already in use").then((function(){return n.addGroup()}))}},{key:"deleteGroup",value:function(){var e,t,n=this;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(E.Confirm,"Delete Selected Group?").then((function(){I.delete("groups/"+n.state.selected).then(n.props.updateInfo,(function(e){return n.handleDeleteError(e.response.status)}))}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"No Group Selected")}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.props.updateInfo()}},{key:"assignPath",value:function(){var e,t,n=this;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(E.DropDown,"Choose a path to assign to the selected group:",this.props.paths).then((function(e){I.put("groups/"+n.state.selected,{pathID:Number(e)}).then(n.props.updateInfo,(function(e){return n.handleAssignError(e.response.status,Number(e))})),console.log("Group: "+n.state.selected+" assigned path: "+e)}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(E.Notif,"No Group Selected")}},{key:"handleAssignError",value:function(e,t){var n,a=this;if(400!==e)throw console.log(e),new Error("Unknown error code");null===(n=this.popupRef.current)||void 0===n||n.popupFactory(E.Confirm,"Path already assigned to another group.  Assign anyway?").then((function(){I.put("groups/"+a.state.selected,{pathID:t,override:!0}),console.log("Group: "+a.state.selected+" assigned path: "+t+" via override")}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"group-frame"},u.a.createElement(R,{paths:this.props.paths,groups:this.props.groups,clickHandler:function(t){return e.setState({selected:t})},selected:this.state.selected}),u.a.createElement("button",{className:"add-group group-button",onClick:function(){return e.addGroup()}},"Add Group"),u.a.createElement("button",{className:"remove-group group-button",onClick:function(){return e.deleteGroup()}},"Remove Group"),u.a.createElement("button",{className:"assign-path group-button",onClick:function(){return e.assignPath()}},"Assign Path"),u.a.createElement(g,{ref:this.popupRef}))}}]),n}(u.a.Component),S=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).intervalID=void 0,r.state={groups:new Map,paths:new Map},r.updateInfo=r.updateInfo.bind(Object(m.a)(r)),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.updateInfo(),this.intervalID=setInterval(this.updateInfo,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"updateInfo",value:function(){var e=this;I.get("groups",{}).then(function(){var e=Object(f.a)(h.a.mark((function e(t){var n,a,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map,a=Object(d.a)(t.data.allGroups),e.prev=2,o=h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.value,e.next=3,I.get("groups/"+t,{}).then((function(e){return n.set(t,{name:e.data.name,pathID:e.data.pathID})}));case 3:case"end":return e.stop()}}),e)})),a.s();case 5:if((r=a.n()).done){e.next=9;break}return e.delegateYield(o(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()).then((function(t){return e.setState({groups:t})})),I.get("paths",{}).then(function(){var t=Object(f.a)(h.a.mark((function t(n){var a,r,o,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Map,r=Object(d.a)(n.data.allPaths),t.prev=2,c=h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.value,t.next=3,I.get("paths/"+n,{}).then((function(t){t.data.name?a.set(n,t.data.name):a.set(n,e.state.paths.get(n))}));case 3:case"end":return t.stop()}}),t)})),r.s();case 5:if((o=r.n()).done){t.next=9;break}return t.delegateYield(c(),"t0",7);case 7:t.next=5;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),r.e(t.t1);case 14:return t.prev=14,r.f(),t.finish(14);case 17:return t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return e.setState({paths:t})}))}},{key:"render",value:function(){return u.a.createElement("div",{className:"main-page"},u.a.createElement(O,null),u.a.createElement(N,null),u.a.createElement(x,{paths:this.state.paths,updateInfo:this.updateInfo}),u.a.createElement(D,{groups:this.state.groups,paths:this.state.paths,updateInfo:this.updateInfo}))}}]),n}(u.a.Component),A=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(S,null))}}]),n}(u.a.Component);i.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.7438b4a8.chunk.js.map