(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,n){},24:function(e,t,n){},25:function(e,t){e.exports="data:image/png;base64,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"},26:function(e,t,n){e.exports=n(56)},31:function(e,t,n){},33:function(e){e.exports=JSON.parse('{"maps-api-key":"AIzaSyCvnhd-UvzVjkpnDC3R47NcWoaBO4XFI5I"}')},34:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(2),s=n(4),o=n(3),l=n(0),c=n.n(l),u=n(10),i=n.n(u);n(31),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p,d=n(7),h=n.n(d),f=n(13),m=n(11),v=n(8),A=new function e(){Object(a.a)(this,e),this.mapsKey=void 0;try{var t=n(33);this.mapsKey=t["maps-api-key"]}catch(r){throw new Error("No secrets.json detected. Please place secrets.json in the project root following the template.")}},y=n(9);n(15),n(34);!function(e){e.Confirm="confirm",e.Input="input",e.Notif="notif",e.DropDown="dropdown"}(p||(p={}));var g=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;Object(a.a)(this,n),r=t.call(this,e);var s=void 0,o=new Promise((function(e,t){s={resolve:e,reject:t}}));return r.state={showPopup:!1,inputValue:"",clickTypePromise:o,clickTypeDefer:s,left:"30%",top:"40%"},r.handleClick=r.handleClick.bind(Object(v.a)(r)),r}return Object(r.a)(n,[{key:"resetDeferred",value:function(){var e=void 0,t=new Promise((function(t,n){e={resolve:t,reject:n}}));this.setState({clickTypePromise:t,clickTypeDefer:e})}},{key:"popupFactory",value:function(){var e=Object(m.a)(h.a.mark((function e(t,n,a){var r,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showPopup:!0,popupType:t,popupMessage:n,options:a}),e.next=3,this.state.clickTypePromise;case 3:return r=e.sent,this.setState({showPopup:!1}),this.resetDeferred(),e.abrupt("return",new Promise((function(e,t){r?s.state.popupType===p.Input||s.state.popupType===p.DropDown?(""===s.state.inputValue&&t(),e(s.state.inputValue),s.setState({inputValue:""})):e():(s.state.popupType===p.Input&&s.setState({inputValue:""}),t())})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){this.state.clickTypeDefer.resolve(e)}},{key:"confirm",value:function(){var e=this;return c.a.createElement("div",{className:"popup-button"},c.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Okay"),c.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"input",value:function(){var e=this;return c.a.createElement("div",{className:"popup-button"},c.a.createElement("input",{type:"text",id:"input",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}}),c.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Okay"),c.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"notif",value:function(){var e=this;return c.a.createElement("div",{className:"popup-button"},c.a.createElement("button",{className:"notif",onClick:function(){return e.handleClick(!0)}},"Okay"))}},{key:"dropdown",value:function(){var e=this,t=[];return t.push(c.a.createElement("option",{value:"",key:""},"--")),this.state.options.forEach((function(e,n){t.push(c.a.createElement("option",{value:String(n),key:n},e))})),c.a.createElement("div",{className:"popup-button"},c.a.createElement("select",{id:"input",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}},t),c.a.createElement("button",{className:"okay",onClick:function(){return e.handleClick(!0)}},"Select"),c.a.createElement("button",{className:"cancel",onClick:function(){return e.handleClick(!1)}},"Cancel"))}},{key:"render",value:function(){var e;switch(this.state.popupType){case p.Confirm:e=this.confirm();break;case p.Input:e=this.input();break;case p.Notif:e=this.notif();break;case p.DropDown:e=this.dropdown();break;default:e=c.a.createElement("div",{className:"popup-button"})}return c.a.createElement("div",null,c.a.createElement("div",{className:this.state.showPopup?"popup-bg":"hidden"}),c.a.createElement("div",{className:this.state.showPopup?"popup":"hidden"},c.a.createElement("div",{className:"popup-text"},this.state.popupMessage),e))}}]),n}(c.a.Component),b=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).autocomplete=void 0,r.service=void 0,r.state={textInput:""},r}return Object(r.a)(n,[{key:"onPlaceChanged",value:function(e){var t=this;if(this.props.select(void 0),this.setState({textInput:""}),1===Object.entries(e).length){var n,a={query:e.name,bounds:null===(n=this.props.map)||void 0===n?void 0:n.getBounds()};this.service||(this.service=new google.maps.places.PlacesService(this.props.map)),this.service.textSearch(a,(function(e,n){if(n===google.maps.places.PlacesServiceStatus.OK)t.props.setPlaces(e);else{if(n!==google.maps.places.PlacesServiceStatus.ZERO_RESULTS)throw console.log(n),new Error("Places Search Request Failed");var a;t.props.setPlaces([]),null===(a=t.props.popupRef.current)||void 0===a||a.popupFactory(p.Notif,"No Results Found")}}))}else this.props.setPlaces([e]),this.props.select(e.place_id)}},{key:"componentDidUpdate",value:function(e){var t=this;"string"===typeof this.props.selected&&this.props.selected!==e.selected&&(this.service||(this.service=new google.maps.places.PlacesService(this.props.map)),this.service.getDetails({fields:n.placeRequestFields,placeId:this.props.selected},(function(e,n){if(n!==google.maps.places.PlacesServiceStatus.OK)throw console.log(n),new Error("Place Detail Request Failed.");t.setState({placeDetails:e})})))}},{key:"render",value:function(){var e,t=this,n=c.a.createElement("div",null);if(this.props.selected&&"string"===typeof this.props.selected&&this.state.placeDetails){var a,r,s=this.state.placeDetails;n=c.a.createElement("div",{className:"search-results"},c.a.createElement("u",{onClick:function(){return t.props.select()}},"Back to Search Results"),c.a.createElement("h4",null,s.name),c.a.createElement("img",{src:s.icon,className:"icon",alt:"icon"}),s.vicinity," ",c.a.createElement("br",null),"Types: ",null===(a=s.types)||void 0===a?void 0:a.join(", "),c.a.createElement("br",null),s.website?c.a.createElement("a",{href:s.website},"Website"):"",null===(r=s.photos)||void 0===r?void 0:r.map((function(e,t){return c.a.createElement("img",{key:t,className:"search-img",src:e.getUrl({}),alt:""})})))}else{var o=this.props.places.map((function(e){var n;return c.a.createElement("div",{className:t.props.selected===e.place_id?"search-entry selected":"search-entry",key:e.place_id,onClick:function(){return t.props.select(e.place_id)}},c.a.createElement("h6",null,e.name),c.a.createElement("img",{src:e.icon,className:"icon",alt:"icon"}),e.formatted_address," ",c.a.createElement("br",null),"Types: ",null===(n=e.types)||void 0===n?void 0:n.join(", "))}));n=c.a.createElement("div",{className:"search-results"},o)}return c.a.createElement("div",{className:"search-panel"},c.a.createElement(y.a,{onLoad:function(e){return t.autocomplete=e},onPlaceChanged:function(){return t.onPlaceChanged(t.autocomplete.getPlace())},bounds:null===(e=this.props.map)||void 0===e?void 0:e.getBounds()},c.a.createElement("input",{type:"text",placeholder:"Search",value:this.state.textInput,autoFocus:!0,onChange:function(e){return t.setState({textInput:e.target.value})},style:{boxSizing:"border-box",border:"1px solid transparent",width:"100%",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"absolute",left:"0%",marginLeft:"0px"}})),n)}}]),n}(c.a.Component);b.placeRequestFields=["name","icon","vicinity","types","photos","website","geometry"];var E=n(12),C=n.n(E);C.a.defaults.headers.post["Access-Control-Allow-Origin"]="*";var k=C.a.create({baseURL:"https://husky-hunties.azurewebsites.net",responseType:"json"}),w=n(25),I=n.n(w),N=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;if(Object(a.a)(this,n),(r=t.call(this,e)).clue=void 0,e.place&&!e.clue)r.state={name:e.place.name,num:"",desc:"",list:""},r.clue=!1;else{if(!e.clue||e.place)throw new Error("Must supply info box with either a clue or a place, but not both.");r.state={name:e.clue.name,list:e.clue.list,num:String(e.clue.num),desc:e.clue.desc},r.clue=!0}return r}return Object(r.a)(n,[{key:"addModifyClue",value:function(){var e,t,n=this;if(""!==this.state.name)if(this.state.num&&!isNaN(Number(this.state.num))){if(this.clue&&!this.props.clue.place)throw console.log(this.props.place),new Error("Something has gone horribly wrong");if(!this.clue&&!(null===(e=this.props.place.geometry)||void 0===e?void 0:e.location))throw console.log(this.props.place),new Error("Something has gone horribly wrong");if(this.state.list&&""!==this.state.list){var a,r,s={name:this.state.name,listID:this.state.list.toUpperCase(),clueNumber:Number(this.state.num),description:this.state.desc,lat:this.clue?this.props.clue.place.lat:this.props.place.geometry.location.lat(),long:this.clue?this.props.clue.place.lng:this.props.place.geometry.location.lng()};if(this.props.clueLists.has(s.listID))if(this.clue)k.put("/clues/update/"+(null===(a=this.props.clue)||void 0===a?void 0:a.id),s).then((function(){n.props.updateClues(),n.props.select(void 0)}),(function(e){return n.handleAddError(e.response.status)}));else k.post("/clues",s).then((function(){n.props.updateClues(),n.props.select(void 0),n.props.setPlaces([])}),(function(e){return n.handleAddError(e.response.status)}));else null===(r=this.props.popupRef.current)||void 0===r||r.popupFactory(p.Confirm,"List "+s.listID+" does not exist.  Should list be created?").then((function(){var e;n.clue?k.put("/clues/update/"+(null===(e=n.props.clue)||void 0===e?void 0:e.id),s).then((function(){n.props.updateClues(),n.props.select(void 0)}),(function(e){return n.handleAddError(e.response.status)})):k.post("/clues",s).then((function(){n.props.updateClues(),n.props.select(void 0),n.props.setPlaces([])}),(function(e){return n.handleAddError(e.response.status)}))}))}else{var o;null===(o=this.props.popupRef.current)||void 0===o||o.popupFactory(p.Notif,"Invalid Clue List")}}else{var l;null===(l=this.props.popupRef.current)||void 0===l||l.popupFactory(p.Notif,"Invalid Clue Number")}else null===(t=this.props.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"Invalid Clue Name")}},{key:"handleAddError",value:function(e){if(401===e){var t;null===(t=this.props.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"There is another clue at this location.")}else{if(402!==e)throw console.log("Error: ".concat(e," from unknown error")),new Error("unknown error code");var n;null===(n=this.props.popupRef.current)||void 0===n||n.popupFactory(p.Notif,"There is already a solution for this clue")}}},{key:"deleteClue",value:function(){var e,t,n,a=this;null===(e=this.props.popupRef.current)||void 0===e||e.popupFactory(p.Confirm,"Delete Clue: "+(null===(t=this.props.clue)||void 0===t?void 0:t.list)+(null===(n=this.props.clue)||void 0===n?void 0:n.num)+"?").then((function(){var e,t,n;k.delete("/clues/"+(null===(e=a.props.clue)||void 0===e?void 0:e.id),{}).then((function(){a.props.updateClues(),a.props.select(void 0)}),(function(e){return a.handleDeleteError(e.response.status)})),console.log("deleted clue: "+(null===(t=a.props.clue)||void 0===t?void 0:t.list)+(null===(n=a.props.clue)||void 0===n?void 0:n.num))}),(function(){}))}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.props.updateClues(),this.props.select(void 0)}},{key:"handleKeypress",value:function(e){"Enter"===e.key&&this.addModifyClue()}},{key:"render",value:function(){var e=this,t=Array.from(this.props.clueLists).sort(),n=c.a.createElement("datalist",{id:"clue-lists"},t.map((function(e){return c.a.createElement("option",{value:e,key:e})})));return c.a.createElement("div",{style:{background:"#232323"}},"Name: ",c.a.createElement("input",{type:"text",value:this.state.name,placeholder:"Clue Name",autoFocus:!0,onChange:function(t){return e.setState({name:t.target.value})},onKeyPress:function(t){return e.handleKeypress(t)}})," ",c.a.createElement("br",null),"Description: ",c.a.createElement("input",{type:"text",value:this.state.desc,placeholder:"Clue Description",onChange:function(t){return e.setState({desc:t.target.value})},onKeyPress:function(t){return e.handleKeypress(t)}})," ",c.a.createElement("br",null),"Clue List: ",c.a.createElement("input",{list:"clue-lists",value:this.state.list,style:{width:"30px"},onChange:function(t){return e.setState({list:t.target.value})},onKeyPress:function(t){return e.handleKeypress(t)}}),n,"Clue Number: ",c.a.createElement("input",{type:"text",value:this.state.num,style:{width:"30px"},onChange:function(t){return e.setState({num:t.target.value})},onKeyPress:function(t){return e.handleKeypress(t)}})," ",c.a.createElement("br",null),this.clue?c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return e.addModifyClue()}},"Modify Clue"),c.a.createElement("button",{onClick:function(){return e.deleteClue()}},"Delete Clue")):c.a.createElement("button",{onClick:function(){return e.addModifyClue()}},"Add Clue"))}}]),n}(c.a.Component),P=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).map=void 0,r.service=void 0,r.state={center:{lat:42.3406995,lng:-71.0897018},fullscreen:!1,sidePanel:!1,searchedPlaces:[]},r.setSearchedPlaces=r.setSearchedPlaces.bind(Object(v.a)(r)),r}return Object(r.a)(n,[{key:"setSearchedPlaces",value:function(e){this.setState({searchedPlaces:e})}},{key:"handlePOIClick",value:function(e){var t=this;e.placeId&&(this.service||(this.service=new google.maps.places.PlacesService(this.map)),e.stop(),this.service.getDetails({placeId:e.placeId,fields:n.placeRequestFields},(function(n,a){if(a!==google.maps.places.PlacesServiceStatus.OK)throw console.log(a),new Error("Place Detail Request Failed.");n.place_id=e.placeId,t.setSearchedPlaces([n]),t.setState({sidePanel:!0}),t.props.select(e.placeId)})))}},{key:"render",value:function(){var e,t=this;e=this.state.sidePanel?c.a.createElement("div",null,c.a.createElement(b,{map:this.map,setPlaces:this.setSearchedPlaces,places:this.state.searchedPlaces,select:this.props.select,selected:this.props.selected,popupRef:this.props.popupRef}),c.a.createElement("div",{className:"side-handle",style:{left:"20%"},onClick:function(){return t.setState({sidePanel:!1})}},"<")):c.a.createElement("div",{className:"side-handle",onClick:function(){return t.setState({sidePanel:!0})}},">");var a=this.props.clues.map((function(e){return c.a.createElement(y.e,{key:e.id,position:e.place,onClick:function(){return t.props.select(e.id)},label:e.list+e.num,zIndex:0},e.id===t.props.selected?c.a.createElement(y.c,{onCloseClick:function(){return t.props.select(void 0)}},c.a.createElement(N,{clue:e,clueLists:t.props.clueLists,popupRef:t.props.popupRef,updateClues:t.props.updateClues,select:t.props.select,setPlaces:t.setSearchedPlaces})):"")})),r=this.state.searchedPlaces.map((function(e){var n;return c.a.createElement(y.e,{key:e.place_id,position:null===(n=e.geometry)||void 0===n?void 0:n.location,onClick:function(){return t.props.select(e.place_id)},zIndex:1,icon:I.a},e.place_id===t.props.selected?c.a.createElement(y.c,{onCloseClick:function(){return t.props.select(void 0)}},c.a.createElement(N,{place:e,clueLists:t.props.clueLists,popupRef:t.props.popupRef,updateClues:t.props.updateClues,select:t.props.select,setPlaces:t.setSearchedPlaces})):"")}));return this.state.sidePanel||(r=[]),c.a.createElement("div",{className:this.state.fullscreen?"wrapper-fullscreen":"wrapper-default"},c.a.createElement(y.d,{googleMapsApiKey:A.mapsKey,libraries:n.libraries},c.a.createElement(y.b,{mapContainerStyle:{width:"100%",height:"100%"},center:this.state.center,zoom:13,options:{streetViewControl:!1,fullscreenControl:!1},onLoad:function(e){t.map=e},onClick:function(e){return t.handlePOIClick(e)}},c.a.createElement("div",{className:"fullscreen-control",onClick:function(){return t.setState({fullscreen:!t.state.fullscreen,sidePanel:!t.state.fullscreen})}},this.state.fullscreen?"Exit Fullscreen":"Enter Fullscreen"),a,r,e)))}}]),n}(c.a.Component);P.libraries=["places","geometry"],P.placeRequestFields=["name","formatted_address","icon","types","geometry"];n(52);function O(e,t){return e.list===t.list?e.num-t.num:e.list.localeCompare(t.list)}var j=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props.clues.sort(O).map((function(t){return c.a.createElement("tr",{key:t.id,onClick:function(){return e.props.select(t.id)}},c.a.createElement("td",{className:t.id===e.props.selected?"selected":""},t.list+t.num+": "+t.name))}));return c.a.createElement("table",{className:"clue-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"List of Clues"))),c.a.createElement("tbody",null,t))}}]),n}(c.a.Component),S=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).intervalID=void 0,r.popupRef=void 0,r.state={selected:void 0,clues:[],clueLists:new Set},r.popupRef=c.a.createRef(),r.updateClues=r.updateClues.bind(Object(v.a)(r)),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.updateClues(),this.intervalID=setInterval(this.updateClues,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"updateClues",value:function(){var e=this,t=[],n=[],a=new Set;k.get("/clues/").then((function(e){return n=e.data.clueIDs,e.data.clueIDs.map((function(e){return k.get("/clues/"+e,{})}))})).then((function(e){return C.a.all(e)})).then((function(e){e.forEach((function(e,r){var s=e.data;t.push({list:s.listID.toUpperCase(),num:s.clueNumber,name:s.name,desc:s.description,finished:s.finished,place:{lng:s.long,lat:s.lat},id:n[r]}),a.add(s.listID.toUpperCase())}))})).then((function(){return e.setState({clues:t,clueLists:a})}))}},{key:"deleteClue",value:function(){var e,t,n=this;this.state.selected&&"number"===typeof this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(p.Confirm,"Delete Selected Clue?").then((function(){k.delete("/clues/"+n.state.selected,{}).then(n.updateClues,(function(e){return n.handleDeleteError(e.response.status)})),console.log("deleted clue: "+n.state.selected)}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"No Clue Selected")}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.updateClues()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"clue-frame"},c.a.createElement("div",{className:"clue-list"},c.a.createElement(j,{selected:this.state.selected,select:function(t){return e.setState({selected:t})},clues:this.state.clues})),c.a.createElement("button",{onClick:function(){return e.deleteClue()},className:"clue-delete"},"Delete Clue"),c.a.createElement("div",{className:"clue-map"},c.a.createElement(P,{updateClues:this.updateClues,clues:this.state.clues,selected:this.state.selected,clueLists:this.state.clueLists,select:function(t){return e.setState({selected:t})},popupRef:this.popupRef})),c.a.createElement(g,{ref:this.popupRef}))}}]),n}(c.a.Component);n(24),n(53);var R=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return c.a.createElement("div",{className:"nav-bar"},c.a.createElement("a",{href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},"Navigation Bar"),c.a.createElement("div",{className:"theme-switch-wrapper"},c.a.createElement("label",{className:"theme-switch",htmlFor:"checkbox"},c.a.createElement("input",{type:"checkbox",id:"checkbox",onClick:function(e){e.target.checked?document.documentElement.setAttribute("data-theme","light"):document.documentElement.setAttribute("data-theme","dark")}}),c.a.createElement("div",{className:"slider round"})),c.a.createElement("em",null,"Enable Light Mode!")))}}]),n}(c.a.Component),D=(n(54),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=[];return this.props.paths.forEach((function(n,a){t.push(c.a.createElement("tr",{key:a,onClick:function(){return e.props.clickHandler(a)}},c.a.createElement("td",{className:a===e.props.selected?"selected":""},n)))})),c.a.createElement("div",{className:"table-div"},c.a.createElement("table",{className:"path-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"List of Paths"))),c.a.createElement("tbody",null,t)))}}]),n}(c.a.Component)),x=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).popupRef=void 0,r.state={selected:void 0},r.popupRef=c.a.createRef(),r}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(){this.state.selected&&!this.props.paths.has(this.state.selected)&&this.setState({selected:void 0})}},{key:"addPath",value:function(){var e,t=this;null===(e=this.popupRef.current)||void 0===e||e.popupFactory(p.Input,"Input name for new Path").then((function(e){k.post("/paths",{name:e}).then(t.props.updateInfo,(function(e){return t.handleAddError(e.response.status)})),console.log("Tried to add path: "+e)}),(function(){}))}},{key:"handleAddError",value:function(e){var t,n=this;if(400!==e)throw console.log(e),new Error("Unknown error code");null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"Name already in use").then((function(){return n.addPath()}))}},{key:"deletePath",value:function(){var e,t,n=this;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(p.Confirm,"Delete Selected Path?").then((function(){k.delete("/paths/"+n.state.selected,{}).then(n.props.updateInfo,(function(e){return n.handleDeleteError(e.response.status)})),console.log("deleted path: "+n.state.selected)}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"No Path Selected")}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.props.updateInfo()}},{key:"modifyPath",value:function(){var e,t;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(p.Notif,"Operation Not Implemented"):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"No Path Selected")}},{key:"handleModifyError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");var t;null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"Implement me")}},{key:"orderPath",value:function(){var e,t;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(p.Notif,"Operation Not Implemented"):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"No Path Selected")}},{key:"handleOrderError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");var t;null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"Implement me")}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"path-frame"},c.a.createElement(D,{paths:this.props.paths,clickHandler:function(t){return e.setState({selected:t})},selected:this.state.selected}),c.a.createElement("button",{className:"path-button",onClick:function(){return e.addPath()}},"Add Path"),c.a.createElement("button",{className:"path-button",onClick:function(){return e.deletePath()}},"Delete Path"),c.a.createElement("button",{className:"path-button",onClick:function(){return e.modifyPath()}},"Modify Path"),c.a.createElement("button",{className:"path-button",onClick:function(){return e.orderPath()}},"Order Path"),c.a.createElement(g,{ref:this.popupRef}))}}]),n}(c.a.Component),F=(n(55),function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=[];return this.props.groups.forEach((function(n,a){var r=n.pathID&&e.props.paths.has(n.pathID)?e.props.paths.get(n.pathID):"No assigned path";t.push(c.a.createElement("tr",{key:a,onClick:function(){return e.props.clickHandler(a)}},c.a.createElement("td",{className:a===e.props.selected?"selected":""},n.name+" -- "+r)))})),c.a.createElement("div",{className:"table-div"},c.a.createElement("table",{className:"group-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"List of Groups"))),c.a.createElement("tbody",null,t)))}}]),n}(c.a.Component)),L=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).popupRef=void 0,r.state={selected:void 0},r.popupRef=c.a.createRef(),r}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(){this.state.selected&&!this.props.groups.has(this.state.selected)&&this.setState({selected:void 0})}},{key:"addGroup",value:function(){var e,t=this;null===(e=this.popupRef.current)||void 0===e||e.popupFactory(p.Input,"Input name for new Group").then((function(e){k.post("/groups",{name:e}).then(t.props.updateInfo,(function(e){return t.handleAddError(e.response.status)})),console.log("Tried to add group: "+e)}),(function(){}))}},{key:"handleAddError",value:function(e){var t,n=this;if(400!==e)throw console.log(e),new Error("Unknown error code");null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"Name already in use").then((function(){return n.addGroup()}))}},{key:"deleteGroup",value:function(){var e,t,n=this;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(p.Confirm,"Delete Selected Group?").then((function(){k.delete("/groups/"+n.state.selected).then(n.props.updateInfo,(function(e){return n.handleDeleteError(e.response.status)}))}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"No Group Selected")}},{key:"handleDeleteError",value:function(e){if(400!==e)throw console.log(e),new Error("Unknown error code");this.props.updateInfo()}},{key:"assignPath",value:function(){var e,t,n=this;this.state.selected?null===(e=this.popupRef.current)||void 0===e||e.popupFactory(p.DropDown,"Choose a path to assign to the selected group:",this.props.paths).then((function(e){k.put("/groups/"+n.state.selected,{pathID:Number(e)}).then(n.props.updateInfo,(function(e){return n.handleAssignError(e.response.status,Number(e))})),console.log("Group: "+n.state.selected+" assigned path: "+e)}),(function(){})):null===(t=this.popupRef.current)||void 0===t||t.popupFactory(p.Notif,"No Group Selected")}},{key:"handleAssignError",value:function(e,t){var n,a=this;if(400!==e)throw console.log(e),new Error("Unknown error code");null===(n=this.popupRef.current)||void 0===n||n.popupFactory(p.Confirm,"Path already assigned to another group.  Assign anyway?").then((function(){k.put("/groups/"+a.state.selected,{pathID:t,override:!0}),console.log("Group: "+a.state.selected+" assigned path: "+t+" via override")}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"group-frame"},c.a.createElement(F,{paths:this.props.paths,groups:this.props.groups,clickHandler:function(t){return e.setState({selected:t})},selected:this.state.selected}),c.a.createElement("button",{className:"add-group group-button",onClick:function(){return e.addGroup()}},"Add Group"),c.a.createElement("button",{className:"remove-group group-button",onClick:function(){return e.deleteGroup()}},"Remove Group"),c.a.createElement("button",{className:"assign-path group-button",onClick:function(){return e.assignPath()}},"Assign Path"),c.a.createElement(g,{ref:this.popupRef}))}}]),n}(c.a.Component),W=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).intervalID=void 0,r.state={groups:new Map,paths:new Map},r.updateInfo=r.updateInfo.bind(Object(v.a)(r)),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.updateInfo(),this.intervalID=setInterval(this.updateInfo,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"updateInfo",value:function(){var e=this;k.get("/groups",{}).then(function(){var e=Object(m.a)(h.a.mark((function e(t){var n,a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map,a=Object(f.a)(t.data.allGroups),e.prev=2,s=h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.value,e.next=3,k.get("/groups/"+t,{}).then((function(e){return n.set(t,{name:e.data.name,pathID:e.data.pathID})}));case 3:case"end":return e.stop()}}),e)})),a.s();case 5:if((r=a.n()).done){e.next=9;break}return e.delegateYield(s(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()).then((function(t){return e.setState({groups:t})})),k.get("/paths",{}).then(function(){var t=Object(m.a)(h.a.mark((function t(n){var a,r,s,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Map,r=Object(f.a)(n.data.allPaths),t.prev=2,o=h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.value,t.next=3,k.get("/paths/"+n,{}).then((function(t){t.data.name?a.set(n,t.data.name):a.set(n,e.state.paths.get(n))}));case 3:case"end":return t.stop()}}),t)})),r.s();case 5:if((s=r.n()).done){t.next=9;break}return t.delegateYield(o(),"t0",7);case 7:t.next=5;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),r.e(t.t1);case 14:return t.prev=14,r.f(),t.finish(14);case 17:return t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()).then((function(t){return e.setState({paths:t})}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"main-page"},c.a.createElement(R,null),c.a.createElement(S,null),c.a.createElement(x,{paths:this.state.paths,updateInfo:this.updateInfo}),c.a.createElement(L,{groups:this.state.groups,paths:this.state.paths,updateInfo:this.updateInfo}))}}]),n}(c.a.Component),M=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(W,null))}}]),n}(c.a.Component);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.9d24459e.chunk.js.map